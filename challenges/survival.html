<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Word Search ‚Äî Modern Survival</title>
  <style>
    :root {
      --bg: #0f1220;
      --card: #111421;
      --muted: #9aa0b2;
      --accent: #7dd3fc;
      --good: #7ef08a;
      --bad: #ffb86b;
      --glass: rgba(255, 255, 255, 0.03);
      --glass-2: rgba(255, 255, 255, 0.02);
    }

    * {
      box-sizing: border-box
    }

    html,
    body {
      height: 100%
    }

    body {
      margin: 0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, #071023 0%, #0f1220 60%);
      color: #e6eef8;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }

    .wrap {
      width: 100%;
      max-width: 1100px;
      border-radius: 14px;
      padding: 18px;
    }

    header {
      display: flex;
      gap: 12px;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 14px;
      flex-wrap: wrap;
    }

    .left {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    h1 {
      font-size: 18px;
      margin: 0;
      display: flex;
      gap: 8px;
      align-items: center
    }

    .stats {
      display: flex;
      gap: 10px;
      align-items: center
    }

    .pill {
      border-radius: 12px;
      font-weight: 600;
      color: white;
      display: flex;
      gap: 8px;
      align-items: center;
      justify-content: center;
    }

    button#startModalPractice {
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));

    }



    main {
      display: grid;
      grid-template-columns: 1fr 300px;
      gap: 16px;
    }

    /* mobile */
    @media (max-width:760px) {
      main {
        grid-template-columns: 1fr
      }
    }

    .board {


      /* Grid */
      .grid {
        --size: 10;
        display: grid;
        grid-template-columns: repeat(var(--size), 1fr);
        gap: 6px;
        touch-action: none;
        width: 100%;
        max-width: calc(min(90vw, 720px));
        margin: auto;
        padding: 12px;
        border-radius: 14px;
        box-shadow: 0 10px 30px rgba(3, 6, 20, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.03);
        backdrop-filter: blur(6px);
      }
    }

    .cell {
      aspect-ratio: 1/1;
      width: 100%;
      min-width: 28px;
      max-width: min(56px, 9.5vw);
      display: grid;
      place-items: center;
      background: rgba(255, 255, 255, 0.02);
      border-radius: 8px;
      font-weight: 800;
      text-transform: uppercase;
      color: var(--ink);
      transition: transform .12s ease, box-shadow .18s ease, background .18s, outline-color .18s;
      box-shadow: inset 0 -2px 6px rgba(0, 0, 0, 0.25);
      cursor: pointer;
      font-size: 14px;
      user-select: none
    }

    .cell:active {
      transform: scale(.98)
    }

    .cell.hl {
      outline: 2px solid rgba(255, 200, 90, 0.15);
      animation: pulse 900ms infinite linear;
    }

    .cell.good {
      animation: found-pop .45s cubic-bezier(.2, .9, .3, 1);
      box-shadow: 0 12px 26px rgba(126, 240, 138, 0.14), 0 6px 12px rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(126, 240, 138, 0.18);
    }

    .cell.lock {
      background: linear-gradient(135deg, rgba(55, 214, 122, 0.12), rgba(32, 80, 255, 0.06));
      box-shadow: 0 10px 30px rgba(50, 120, 255, 0.06), inset 0 -6px 10px rgba(0, 0, 0, 0.25);
      transform: scale(1.02);
      color: #eafef3;
      transition: transform .24s cubic-bezier(.2, .9, .25, 1), background .22s;
            outline: 2px solid rgba(255, 200, 90, 0.15);
      animation: pulse 900ms infinite linear;
    }

    @keyframes found-pop {
      0% {
        transform: scale(.9);
        filter: blur(.8px)
      }

      60% {
        transform: scale(1.12)
      }

      100% {
        transform: scale(1.02);
        filter: blur(0)
      }
    }

    /* Side panel */
    .side {
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
      padding: 12px;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      min-height: 200px;
    }

    .words {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
    }

    .word {
      background: rgba(255, 255, 255, 0.02);
      padding: 8px;
      border-radius: 8px;
      font-weight: 700;
      color: var(--muted);
      text-align: center;
      transition: transform .14s ease, background .18s;
    }

    .word.found {
      color: var(--good);
      background: linear-gradient(90deg, rgba(126, 240, 138, 0.06), rgba(126, 240, 138, 0.02));
      text-decoration: line-through;
      transform: translateY(-4px);
    }

    .msg {
      color: var(--muted);
      font-size: 13px;
      margin-top: 6px
    }

    /* Modal system */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(2, 6, 23, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 40;
      backdrop-filter: blur(4px);
      opacity: 0;
      pointer-events: none;
      transition: opacity .22s ease;
    }

    .overlay.open {
      opacity: 1;
      pointer-events: auto
    }

    .modal {
      position: relative;
      background: linear-gradient(180deg, rgba(101, 112, 212, 0.486), rgba(255, 255, 255, 0.01));
      border-radius: 14px;
      padding: 22px;
      width: min(520px, 92%);
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.04);
      transform: translateY(24px) scale(.985);
      opacity: 0;
      transition: transform .36s cubic-bezier(.2, .9, .2, 1), opacity .36s ease;
      box-shadow: 0 30px 80px rgba(2, 8, 30, 0.6);
    }

    .overlay.open .modal {
      transform: translateY(0) scale(1);
      opacity: 1
    }

    .modal h2 {
      margin: 0 0 8px 0
    }

    .modal p {
      color: var(--muted);
      margin: 0 0 14px 0
    }

    .big-score {
      font-weight: 900;
      font-size: 44px;
      margin: 10px 0;
      color: var(--accent)
    }

    /* small helpers */
    .controls {
      display: flex;
      gap: 8px;
      align-items: center
    }

    .timer-low {
      animation: pulse 900ms infinite;
      color: #ffd55a;
      font-weight: 900;
    }

    @keyframes pulse {
      0% {
        transform: scale(1)
      }

      50% {
        transform: scale(1.03)
      }

      100% {
        transform: scale(1)
      }
    }

    /* subtle background animated lines (pure CSS) */
    .bg-lines {
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: .06;
      background-image:
        linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
        linear-gradient(180deg, rgba(255, 255, 255, 0.01) 1px, transparent 1px);
      background-size: 200px 100%, 100% 200px;
      border-radius: 14px;
    }

    /* small footer */
    .foot {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      color: var(--muted);
      font-size: 13px
    }

    button {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #4162a8;
      border-top: 1px solid #38538c;
      border-right: 1px solid #1f2d4d;
      border-bottom: 1px solid #151e33;
      border-left: 1px solid #1f2d4d;
      -webkit-border-radius: 4px;
      -moz-border-radius: 4px;
      border-radius: 4px;
      -webkit-box-shadow: inset 0 1px 10px 1px #5c8bee, 0px 1px 0 #1d2c4d, 0 6px 0px #1f3053, 0 8px 4px 1px #111111;
      -moz-box-shadow: inset 0 1px 10px 1px #5c8bee, 0px 1px 0 #1d2c4d, 0 6px 0px #1f3053, 0 8px 4px 1px #111111;
      box-shadow: inset 0 1px 10px 1px #5c8bee, 0px 1px 0 #1d2c4d, 0 6px 0px #1f3053, 0 8px 4px 1px #111111;
      color: #fff;
      font: bold 20px "helvetica neue", helvetica, arial, sans-serif;
      line-height: 1;
      padding: 10px 0 12px 0;
      text-align: center;
      text-shadow: 0px -1px 1px #1e2d4d;
      width: 150px;
      -webkit-background-clip: padding-box;
      margin: 15px;
    }



    button:hover {
      -webkit-box-shadow: inset 0 0px 20px 1px #87adff, 0px 1px 0 #1d2c4d, 0 6px 0px #1f3053, 0 8px 4px 1px #111111;
      -moz-box-shadow: inset 0 0px 20px 1px #87adff, 0px 1px 0 #1d2c4d, 0 6px 0px #1f3053, 0 8px 4px 1px #111111;
      box-shadow: inset 0 0px 20px 1px #87adff, 0px 1px 0 #1d2c4d, 0 6px 0px #1f3053, 0 8px 4px 1px #111111;
      cursor: pointer;
    }

    button:active {
      -webkit-box-shadow: inset 0 1px 10px 1px #5c8bee, 0 1px 0 #1d2c4d, 0 2px 0 #1f3053, 0 4px 3px 0 #111111;
      -moz-box-shadow: inset 0 1px 10px 1px #5c8bee, 0 1px 0 #1d2c4d, 0 2px 0 #1f3053, 0 4px 3px 0 #111111;
      box-shadow: inset 0 1px 10px 1px #5c8bee, 0 1px 0 #1d2c4d, 0 2px 0 #1f3053, 0 4px 3px 0 #111111;
      transform: translateY(4px);
    }

    .headerbtn {
      background: transparent;
    }

    @media (max-width:450px) {
      .headerbtn {
        width: 90px;
        background: transparent;
      }
    }
  </style>
</head>

<body>
  <div class="wrap" role="application" aria-label="Word search survival">
    <div style="position:relative">
      <div class="bg-lines" aria-hidden="true"></div>
      <header>
        <div class="left">
          <div class="stats" aria-hidden="true">

            <div class="pill" id="score">üèÜ 0</div>
          </div>
        </div>
        <div class="controls">
          <button id="startBtn" style="display: none;" class="btn primary">‚ñ∂</button>
          <button id="pauseBtn" class="btn ghost headerbtn">
            <div class="pill" id="timer"> 60</div>
          </button>
          <button id="newBtn" class="btn headerbtn">‚ü≥</button>
        </div>
      </header>

      <main>
        <section class="board">
          <div id="grid" class="grid" aria-label="Letter grid"></div>
        </section>

        <aside class="side" aria-label="Word list">
          <div id="wordList" class="words" role="list"></div>
          <div id="msg" style="display: none;" class="msg">Find words to survive ‚Äî swipe or click in straight lines.
          </div>
          <div style="flex:1"></div>
          <div class="foot">
            <div>Mode: <strong>Survival</strong></div>
          </div>
        </aside>
      </main>
    </div>
  </div>

  <!-- Start modal -->
  <div id="startModal" class="overlay open" role="dialog" aria-modal="true" aria-hidden="false">
    <div class="modal" role="document">
      <h2>Ready to survive?</h2>
      <p>Find all words before time runs out. Each found word gives +15 seconds. Swipe or drag across letters.</p>
      <div style="display:flex;gap:10px;justify-content:center;margin-top:10px">
        <button id="startModalBtn" class="btn primary">‚ñ∂</button>
        <button id="startModalPractice" class="btn">Back</button>
      </div>
    </div>
  </div>

  <!-- Pause modal -->
  <div id="pauseModal" class="overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal">
      <h2>Paused</h2>
      <p>Your game is paused. Resume to continue the challenge.</p>
      <div style="display:flex;gap:10px;justify-content:center;margin-top:10px">
        <button id="resumeBtn" class="btn primary">‚ñ∂</button>
        <button id="restartBtn" class="btn">‚ü≥</button>
      </div>
    </div>
  </div>

  <!-- Game over modal -->
  <div id="gameOverModal" class="overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal">
      <h2>Game Over</h2>
      <div class="big-score" id="finalScore">0</div>
      <p id="gameOverMsg">Nice try ‚Äî improve your score!</p>
      <div style="display:flex;gap:10px;justify-content:center;margin-top:14px">
        <button id="retryBtn" class="btn primary">Play Again</button>
        <button id="shareBtn" class="btn">New Puzzle</button>
      </div>
    </div>
  </div>

  <script>
    /* -------------------------
       Core game (responsive + touch)
       ------------------------- */

    /* RNG & dictionary */
    function rng(seed) { let s = seed >>> 0; return () => { s = Math.imul(1664525, s) + 1013904223 >>> 0; return s / 0x100000000; } }
    function seeded() { return Date.now() & 0xffffffff; }
    const WORD_BANK = "JAVASCRIPT CODE PUZZLE LOGIC MATRIX FUNCTION OBJECT RANDOM TIMER SCORE WORD SEARCH DAILY ENGINE VARIABLE".split(" ");
    const DIRS = [[1, 0], [-1, 0], [0, 1], [0, -1], [1, 1], [1, -1], [-1, 1], [-1, -1]];

    /* DOM refs */
    const gridEl = document.getElementById('grid');
    const wordListEl = document.getElementById('wordList');
    const timerEl = document.getElementById('timer');
    const scoreEl = document.getElementById('score');
    const msgEl = document.getElementById('msg');

    const startBtn = document.getElementById('startBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const newBtn = document.getElementById('newBtn');

    /* Modals */
    const startModal = document.getElementById('startModal');
    const startModalBtn = document.getElementById('startModalBtn');
    const startModalPractice = document.getElementById('startModalPractice');

    const pauseModal = document.getElementById('pauseModal');
    const resumeBtn = document.getElementById('resumeBtn');
    const restartBtn = document.getElementById('restartBtn');

    const gameOverModal = document.getElementById('gameOverModal');
    const finalScoreEl = document.getElementById('finalScore');
    const gameOverMsg = document.getElementById('gameOverMsg');
    const retryBtn = document.getElementById('retryBtn');
    const shareBtn = document.getElementById('shareBtn');

    /* State */
    let state = {
      running: false,
      practice: false,
      time: 60,
      score: 0,
      grid: null,
      words: [],
      target: new Set(),
      found: new Set(),
      down: false,
      startCell: null,
      currentLine: [],
    };
    let timerId = null;

    /* Build puzzle */
    function buildPuzzle({ size = 10, words = [], seed }) {
      const R = rng(seed);
      const grid = Array.from({ length: size }, () => Array(size).fill(null));
      function canPlace(w, r, c, dr, dc) {
        const r2 = r + dr * (w.length - 1), c2 = c + dc * (w.length - 1);
        if (r2 < 0 || r2 >= size || c2 < 0 || c2 >= size) return false;
        for (let i = 0; i < w.length; i++) { const rr = r + dr * i, cc = c + dc * i; if (grid[rr][cc] && grid[rr][cc] !== w[i]) return false; }
        return true;
      }
      function placeWord(w) {
        for (let t = 0; t < 300; t++) {
          const [dr, dc] = DIRS[Math.floor(R() * DIRS.length)];
          const r = Math.floor(R() * size), c = Math.floor(R() * size);
          if (!canPlace(w, r, c, dr, dc)) continue;
          for (let i = 0; i < w.length; i++) grid[r + dr * i][c + dc * i] = w[i];
          return true;
        }
        return false;
      }
      for (const word of words) {
        const w = R() < 0.5 ? word : word.split('').reverse().join('');
        placeWord(w);
      }
      for (let r = 0; r < size; r++) for (let c = 0; c < size; c++) if (!grid[r][c]) grid[r][c] = String.fromCharCode(65 + Math.floor(R() * 26));
      return { grid };
    }

    /* Render */
    function renderGrid(grid) {
      gridEl.style.setProperty('--size', grid.length);
      gridEl.innerHTML = '';
      for (let r = 0; r < grid.length; r++) {
        for (let c = 0; c < grid[r].length; c++) {
          const d = document.createElement('div');
          d.className = 'cell';
          d.dataset.r = r;
          d.dataset.c = c;
          d.textContent = grid[r][c];
          gridEl.appendChild(d);
        }
      }
    }

    function renderWords(words) {
      wordListEl.innerHTML = '';
      words.forEach(w => {
        const d = document.createElement('div');
        d.className = 'word';
        d.id = `w-${w}`;
        d.textContent = w;
        wordListEl.appendChild(d);
      });
    }

    /* New puzzle */
    function newPuzzle() {
      const R = rng(seeded());
      const shuffled = [...WORD_BANK].sort(() => R() - 0.5);
      state.words = shuffled.slice(0, 6);
      state.target = new Set(state.words);
      state.found = new Set();
      const { grid } = buildPuzzle({ size: 10, words: state.words, seed: seeded() });
      state.grid = grid;
      renderGrid(grid);
      renderWords(state.words);
      msgEl.textContent = 'Find words to survive!';
    }

    /* Timer */
    function startTimer() {
      clearInterval(timerId);
      if (state.practice) return;
      timerId = setInterval(() => {
        if (!state.running) return;
        state.time--;
        updateTimer();
        if (state.time <= 0) endGame();
      }, 1000);
    }
    function stopTimer() {
      clearInterval(timerId);
    }

    /* Start / end */
    function startGame({ practice = false } = {}) {
      state.practice = practice;
      state.running = true;
      state.score = 0;
      state.time = practice ? 9999 : 60;
      scoreEl.textContent = "üèÜ 0";
      updateTimer();
      newPuzzle();
      startModal.classList.remove('open'); startModal.setAttribute('aria-hidden', 'true');
      pauseModal.classList.remove('open'); pauseModal.setAttribute('aria-hidden', 'true');
      gameOverModal.classList.remove('open'); gameOverModal.setAttribute('aria-hidden', 'true');
      startBtn.textContent = '‚è∏ Pause';
      startBtn.classList.remove('primary'); startBtn.classList.add('btn');
      state.running = true;
      startTimer();
    }

    function pauseGame() {
      if (!state.running) return;
      state.running = false;
      stopTimer();
      pauseModal.classList.add('open');
      pauseModal.setAttribute('aria-hidden', 'false');
    }

    function resumeGame() {
      state.running = true;
      pauseModal.classList.remove('open');
      pauseModal.setAttribute('aria-hidden', 'true');
      startTimer();
    }

    function endGame() {
      state.running = false;
      stopTimer();
      finalScoreEl.textContent = state.score;
      gameOverMsg.textContent = `You scored ${state.score} ‚Äî good job!`;
      gameOverModal.classList.add('open');
      gameOverModal.setAttribute('aria-hidden', 'false');
      startBtn.textContent = '‚ñ∂ Start';
      startBtn.classList.add('primary');
    }

    /* Selection helpers */
    function cellFromEvent(e) {
      const touch = e.touches ? e.touches[0] : null;
      let target = e.target;
      if (touch) {
        const el = document.elementFromPoint(touch.clientX, touch.clientY);
        if (!el) return null;
        target = el;
      }
      const t = target.closest('.cell');
      if (!t) return null;
      return { r: +t.dataset.r, c: +t.dataset.c, el: t };
    }

    function normalizeDir(dr, dc) {
      const s = n => n > 0 ? 1 : n < 0 ? -1 : 0;
      const r = s(dr), c = s(dc);
      if (r !== 0 && c !== 0 && Math.abs(dr) !== Math.abs(dc)) return null;
      return [r, c];
    }

    function lineCells(from, to) {
      const dr = to.r - from.r, dc = to.c - from.c;
      const nd = normalizeDir(dr, dc);
      if (!nd) return [];
      const [rstep, cstep] = nd;
      const len = Math.max(Math.abs(dr), Math.abs(dc));
      const out = [];
      for (let i = 0; i <= len; i++) out.push({ r: from.r + rstep * i, c: from.c + cstep * i });
      return out;
    }

    function pathToWord(path) { return path.map(p => state.grid[p.r][p.c]).join(''); }

    function clearHighlights() {
      state.currentLine.forEach(p => p.el?.classList.remove('hl', 'good'));
    }

    function highlightPath(path, good = false) {
      path.forEach(p => {
        const el = gridEl.querySelector(`.cell[data-r="${p.r}"][data-c="${p.c}"]`);
        if (el) { el.classList.add(good ? 'good' : 'hl'); p.el = el; }
      });
    }

    function lockPath(path) {
      path.forEach(p => {
        const el = gridEl.querySelector(`.cell[data-r="${p.r}"][data-c="${p.c}"]`);
        if (el) {
           el.classList.add('lock'),
          el.classList.add('hl') }
        ;
      });
    }

    /* Input handling */
    function onDown(e) {
      if (!state.running) return;
      const cell = cellFromEvent(e);
      if (!cell) return;
      state.down = true;
      state.startCell = { r: cell.r, c: cell.c };
      state.currentLine = [cell];
      clearHighlights();
      highlightPath(state.currentLine);
      e.preventDefault();
    }

    function onMove(e) {
      if (!state.down || !state.running) return;
      const cell = cellFromEvent(e);
      if (!cell) return;
      const path = lineCells(state.startCell, cell);
      clearHighlights();
      if (path.length) { state.currentLine = path; highlightPath(path); }
      e.preventDefault();
    }

    function onUp(e) {
      if (!state.down || !state.running) return;
      state.down = false;
      const w = pathToWord(state.currentLine);
      const rev = w.split('').reverse().join('');
      let match = null;
      if (state.target.has(w)) match = w;
      else if (state.target.has(rev)) match = rev;

      if (match && !state.found.has(match)) {
        // success
        state.found.add(match);
        state.score++;
        scoreEl.textContent = "üèÜ " + state.score;
        if (!state.practice) {
          state.time += 15;
          updateTimer();
        }
        lockPath(state.currentLine);
        highlightPath(state.currentLine, true);
        const wordEl = document.getElementById("w-" + match);
        if (wordEl) wordEl.classList.add('found');
        msgEl.textContent = `Found "${match}"! +15s`;
        // next puzzle if all found
        if (state.found.size === state.target.size) {
          msgEl.textContent = "All words found ‚Äî new puzzle!";
          setTimeout(() => { newPuzzle(); }, 700);
        }
      } else {
        msgEl.textContent = "Straight lines only.";
      }

      clearHighlights();
      state.currentLine = [];
      e.preventDefault();
    }

    /* Event listeners (mouse + touch) */
    gridEl.addEventListener('mousedown', onDown);
    gridEl.addEventListener('mousemove', onMove);
    window.addEventListener('mouseup', onUp);

    gridEl.addEventListener('touchstart', onDown, { passive: false });
    gridEl.addEventListener('touchmove', onMove, { passive: false });
    window.addEventListener('touchend', onUp, { passive: false });

    /* Utility UI updates */
    function updateTimer() {
      if (state.practice) {
        timerEl.textContent = '‚àû';
        return;
      }
      timerEl.textContent = (state.time <= 8) ? `‚è∏ ${state.time}` : `‚è∏ ${state.time}`;
      if (state.time <= 8) {
        timerEl.classList.add('timer-low');
      } else {
        timerEl.classList.remove('timer-low');
      }
    }

    /* Buttons */
    startBtn.addEventListener('click', () => {
      if (!state.running) {
        // open start modal if not yet started
        startModal.classList.add('open');
        startModal.setAttribute('aria-hidden', 'false');
      } else {
        // pause
        pauseGame();
        pauseModal.classList.add('open');
        pauseModal.setAttribute('aria-hidden', 'false');
      }
    });
    startModalBtn.addEventListener('click', () => startGame({ practice: false }));
    startModalPractice.addEventListener('click', () => startGame({ practice: true }));

    pauseBtn.addEventListener('click', () => {
      if (state.running) { pauseGame(); }
      else { resumeGame(); }
    });

    resumeBtn.addEventListener('click', () => resumeGame());
    restartBtn.addEventListener('click', () => { pauseModal.classList.remove('open'); startGame(); });

    newBtn.addEventListener('click', () => { newPuzzle(); msgEl.textContent = 'New puzzle generated.'; });

    retryBtn.addEventListener('click', () => { gameOverModal.classList.remove('open'); startGame(); });
    shareBtn.addEventListener('click', () => { gameOverModal.classList.remove('open'); newPuzzle(); startModal.classList.remove('open'); });

    /* keyboard shortcuts */
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        if (pauseModal.classList.contains('open')) resumeGame();
        else if (state.running) pauseGame();
        else startModal.classList.add('open');
      }
    });

    /* initial load */
    (function init() {
      scoreEl.textContent = "üèÜ 0";
      updateTimer();
      // show start modal by default
      startModal.classList.add('open');
      startModal.setAttribute('aria-hidden', 'false');
      // create first puzzle (not started)
      newPuzzle();
    })();
  </script>
</body>

</html>